# ===================================
# CONFIGURACIÓN DE AMBIENTE
# ===================================
# Copia este archivo como .env y configura los valores reales

# Ambiente de Flask (development, production, testing)
FLASK_ENV=production

# Debug mode (True/False) - SIEMPRE False en producción
DEBUG=False

# Host para el servidor
# - Para desarrollo local: usar tu IP local (ejemplo: 10.28.168.57, 192.168.1.100, etc)
# - Para producción: dejar como 0.0.0.0 o no incluir esta variable
# HOST=0.0.0.0

# Puerto para el servidor (default: 5000)
PORT=5000

# Secret key para Flask (genera uno único y seguro)
SECRET_KEY=change-this-to-a-random-secret-key-in-production

# ===================================
# CREDENCIALES DE ALEGRA
# ===================================
# Obtén estas credenciales desde tu cuenta de Alegra
ALEGRA_USER=tu_email@ejemplo.com
ALEGRA_PASS=tu_token_api_alegra

# URL base de la API de Alegra (normalmente no necesitas cambiar esto)
ALEGRA_API_BASE_URL=https://api.alegra.com/api/v1

# Timeout para requests a Alegra (en segundos)
ALEGRA_TIMEOUT=30

# ===================================
# CONFIGURACIÓN DE NEGOCIO
# ===================================
# Base mínima que debe quedar en caja (en pesos)
BASE_OBJETIVO=450000

# Umbral para considerar denominaciones como "menudo" (en pesos)
UMBRAL_MENUDO=10000

# ===================================
# CORS - ORIGENES PERMITIDOS
# ===================================
# Lista separada por comas de dominios permitidos para CORS
# Importante: Incluir todos los orígenes desde donde el frontend hará peticiones
#
# TODAS LAS RUTAS ESTÁN HABILITADAS PARA CORS, incluyendo:
# - /api/analytics/dashboard
# - /api/analytics/peak-hours
# - /api/analytics/top-customers
# - /api/analytics/top-sellers
# - /api/analytics/customer-retention
# - /api/analytics/sales-trends
# - /api/analytics/cross-selling
#
# Ejemplos de orígenes a agregar:
# - React (puerto 3000): http://localhost:3000
# - Vue (puerto 8080): http://localhost:8080
# - Angular (puerto 4200): http://localhost:4200
# - Next.js (puerto 3000): http://localhost:3000
# - Tu IP local: http://192.168.1.100:5173
# - Producción: https://tudominio.com
#
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:5175,http://localhost:5176,http://localhost:5000,http://127.0.0.1:5173,http://10.28.168.57:5000,http://10.28.168.57:5173,http://10.28.168.57:5175,https://jdbarajass.pythonanywhere.com,https://cierre-caja-api.onrender.com

# ===================================
# ZONA HORARIA
# ===================================
# Zona horaria para timestamps (formato IANA)
TIMEZONE=America/Bogota

# ===================================
# URL DE SUMA DE PAGOS
# ===================================
# URL del endpoint para suma de pagos (usado por el frontend)
SUM_PAYMENTS_URL=http://localhost:5173/sum_payments

# ===================================
# RATE LIMITING (OPCIONAL)
# ===================================
# URL de storage para rate limiting (memory:// para desarrollo, redis:// para producción)
RATELIMIT_STORAGE_URL=memory://

# Límites por defecto (formato: "X per Y")
# RATELIMIT_DEFAULT=200 per day;50 per hour
RATELIMIT_DEFAULT=3000 per day;3000 per hour
# ===================================
# AUTENTICACIÓN JWT
# ===================================
# IMPORTANTE: Genera una clave secreta única y segura de mínimo 32 caracteres
# Puedes usar el script: python scripts/generate_secret_key.py
JWT_SECRET_KEY=CAMBIAR-ESTO-POR-UNA-CLAVE-SECRETA-SEGURA-DE-MINIMO-32-CARACTERES

# Tiempo de expiración del token en horas
JWT_EXPIRATION_HOURS=8

# ===================================
# BASE DE DATOS
# ===================================
# URL de conexión a la base de datos
# Para desarrollo (SQLite): sqlite:///cierre_caja.db
# Para producción (PostgreSQL): postgresql://user:password@host:port/dbname
DATABASE_URL=sqlite:///cierre_caja.db

# ===================================
# SEGURIDAD
# ===================================
# Número máximo de intentos de login fallidos antes de bloquear
MAX_LOGIN_ATTEMPTS=5

# Tiempo de bloqueo en minutos después de exceder intentos
LOCKOUT_TIME_MINUTES=15
